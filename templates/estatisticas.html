<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CRM para a gestÃ£o de visitantes e membros da Igreja Mais de Cristo Canasvieiras">
  <meta name="keywords" content="igreja, CRM, visitantes, membros, cadastro, WhatsApp, estatÃ­sticas">
  <meta name="author" content="Igreja Mais de Cristo">
  <title>ğŸ“Š EstatÃ­sticas - CRM Church</title>

  <link rel="stylesheet" href="/static/estatisticas.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/static/estatisticas.js" defer></script>
</head>

<body>
  <header>
    <img src="/static/logo_maisdecristo_b2.png" alt="Logo Igreja Mais de Cristo" id="logo">
    <h1>ğŸ“ˆ EstatÃ­sticas do MinistÃ©rio de IntegraÃ§Ã£o</h1>
  </header>

  <main id="mainContent">
    <section id="statisticsContainer">
      <h2>VisÃ£o Geral das EstatÃ­sticas</h2>

      <!-- ğŸ”¹ Filtro -->
      <div id="filtroPeriodo">
        <label for="periodoSelect">Filtrar por perÃ­odo:</label>
        <select id="periodoSelect">
          <option value="3">Ãšltimos 3 meses</option>
          <option value="6" selected>Ãšltimos 6 meses</option>
          <option value="12">Ãšltimos 12 meses</option>
          <option value="0">Todo o perÃ­odo</option>
        </select>
      </div>

      <div id="infoCardsContainer" class="info-cards">
        <!-- Linha 1 -->
        <div class="info-row">
          <div class="info-card" id="totalVisitantesInicio">
            <h3>Visitantes na Fase INÃCIO</h3>
            <p>Carregando...</p>
            <span class="kpi-change" id="kpiInicio"></span>
          </div>
          <div class="info-card" id="discipuladosAtivos">
            <h3>Visitantes em Discipulado</h3>
            <p>Carregando...</p>
            <span class="kpi-change" id="kpiDiscipulado"></span>
          </div>
          <div class="info-card" id="totalPedidosOracao">
            <h3>Pedidos de OraÃ§Ã£o</h3>
            <p>Carregando...</p>
            <span class="kpi-change" id="kpiOracao"></span>
          </div>
        </div>

        <!-- Linha 2 -->
        <div class="info-row">
          <div class="info-card" id="totalHomens">
            <h3>Visitantes Homens</h3>
            <p>Carregando...</p>
          </div>
          <div class="info-card" id="totalMulheres">
            <h3>Visitantes Mulheres</h3>
            <p>Carregando...</p>
          </div>
          <div class="info-card" id="conversasEnviadasRecebidas">
            <h3>Conversas Enviadas/Recebidas</h3>
            <p>Carregando...</p>
          </div>
        </div>

        <!-- Linha 3 -->
        <div class="info-row">
          <div class="info-card" id="evolucaoMensal">
            <h3>EvoluÃ§Ã£o Mensal dos Cadastros</h3>
            <canvas id="graficoMensal"></canvas>
          </div>
          <div class="info-card" id="origemCadastro">
            <h3>Origem dos Cadastros</h3>
            <canvas id="graficoOrigem"></canvas>
          </div>
        </div>

        <!-- Linha 4 -->
        <div class="info-row">
          <div class="info-card" id="graficoFaseCard">
            <h3>DistribuiÃ§Ã£o por Fase / Status</h3>
            <canvas id="graficoFases"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- MENU -->
    <div style="text-align:center;margin-top:40px;">
      <h3>Acessar Outros MÃ³dulos</h3>
      <div style="margin-top:15px;">
        <button onclick="window.location.href='/app/visitantes'" class="btn-primary">ğŸ‘¤ Visitantes</button>
        <button onclick="window.location.href='/app/membros'" class="btn-tertiary">ğŸ‘¥ Membros</button>
        <button onclick="window.location.href='/app/acolhidos'" class="btn-quaternary">ğŸ’¬ Acolhidos</button>
        <button onclick="window.location.href='/app/ia'" class="btn-tertiary">ğŸ§  Treinar IA</button>
        <button onclick="window.location.href='/app/campanhas'" class="btn-warning">ğŸ“£ Campanhas</button>
        <button onclick="window.location.href='/app/menu'" class="btn-secondary">â¬… Voltar ao Menu</button>
      </div>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Nous Tecnologia. Todos os direitos reservados. - versÃ£o 3.2</p>
  </footer>
</body>
</html>
